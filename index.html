<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8">
  
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <title>Doctor nu</title>
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1">
  <meta name="description">
<meta property="og:type" content="website">
<meta property="og:title" content="Doctor nu">
<meta property="og:url" content="http://yoursite.com/index.html">
<meta property="og:site_name" content="Doctor nu">
<meta property="og:description">
<meta name="twitter:card" content="summary">
<meta name="twitter:title" content="Doctor nu">
<meta name="twitter:description">
  
    <link rel="alternative" href="/atom.xml" title="Doctor nu" type="application/atom+xml">
  
  
    <link rel="icon" href="/favicon.png">
  
  <link rel="stylesheet" href="/css/style.css">
</head>

<body>
  <div id="container">
    <div class="left-col">
    <div class="overlay"></div>
<div class="intrude-less">
	<header id="header" class="inner">
		<a href="/" class="profilepic">
			
			<img lazy-src="http://7xs3ih.com1.z0.glb.clouddn.com/9f2f070828381f302478ff3aaf014c086f06f0c4.jpg" class="js-avatar">
			
		</a>

		<hgroup>
		  <h1 class="header-author"><a href="/">Doctor nu</a></h1>
		</hgroup>

		
		<p class="header-subtitle">我的生命中不曾有光，因为除了黑暗，我什么都看不到……</p>
		

		
			<div class="switch-btn">
				<div class="icon">
					<div class="icon-ctn">
						<div class="icon-wrap icon-house" data-idx="0">
							<div class="birdhouse"></div>
							<div class="birdhouse_holes"></div>
						</div>
						<div class="icon-wrap icon-ribbon hide" data-idx="1">
							<div class="ribbon"></div>
						</div>
						
						<div class="icon-wrap icon-link hide" data-idx="2">
							<div class="loopback_l"></div>
							<div class="loopback_r"></div>
						</div>
						
						
						<div class="icon-wrap icon-me hide" data-idx="3">
							<div class="user"></div>
							<div class="shoulder"></div>
						</div>
						
					</div>
					
				</div>
				<div class="tips-box hide">
					<div class="tips-arrow"></div>
					<ul class="tips-inner">
						<li>Menu</li>
						<li>Tags</li>
						
						<li>Links</li>
						
						
						<li>Über</li>
						
					</ul>
				</div>
			</div>
		

		<div class="switch-area">
			<div class="switch-wrap">
				<section class="switch-part switch-part1">
					<nav class="header-menu">
						<ul>
						
							<li><a href="/">主页</a></li>
				        
							<li><a href="/archives">所有文章</a></li>
				        
							<li><a href="/tags/随笔">随笔</a></li>
				        
							<li><a href="/photo">相册</a></li>
				        
						</ul>
					</nav>
					<nav class="header-nav">
						<div class="social">
							
								<a class="github" target="_blank" href="#" title="github">github</a>
					        
								<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
					        
								<a class="rss" target="_blank" href="#" title="rss">rss</a>
					        
								<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
					        
						</div>
					</nav>
				</section>
				
				
				<section class="switch-part switch-part2">
					<div class="widget tagcloud" id="js-tagcloud">
						<a href="/tags/Objective-C/" style="font-size: 10px;">-Objective-C</a> <a href="/tags/hexo/" style="font-size: 20px;">-hexo</a> <a href="/tags/java/" style="font-size: 10px;">-java</a> <a href="/tags/mac/" style="font-size: 10px;">-mac</a> <a href="/tags/plan/" style="font-size: 10px;">-plan</a> <a href="/tags/梦想/" style="font-size: 10px;">-梦想</a> <a href="/tags/iOS/" style="font-size: 10px;">iOS</a> <a href="/tags/iOS内存管理/" style="font-size: 10px;">iOS内存管理</a> <a href="/tags/storyboard/" style="font-size: 10px;">storyboard</a> <a href="/tags/数据库/" style="font-size: 10px;">数据库</a>
					</div>
				</section>
				
				
				
				<section class="switch-part switch-part3">
					<div id="js-friends">
					
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">奥巴马的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">卡卡的美丽传说</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">本泽马的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">吉格斯的博客</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">习大大大不同</a>
			        
			          <a target="_blank" class="main-nav-link switch-friends-link" href="http://localhost:4000/">托蒂的博客</a>
			        
			        </div>
				</section>
				

				
				
				<section class="switch-part switch-part4">
				
					<div id="js-aboutme">我是谁，我从哪里来，我到哪里去？我就是我，是颜色不一样的吃货…</div>
				</section>
				
			</div>
		</div>
	</header>				
</div>

    </div>
    <div class="mid-col">
      <nav id="mobile-nav">
  	<div class="overlay">
  		<div class="slider-trigger"></div>
  		<h1 class="header-author js-mobile-header hide">Doctor nu</h1>
  	</div>
	<div class="intrude-less">
		<header id="header" class="inner">
			<div class="profilepic">
			
				<img lazy-src="http://7xs3ih.com1.z0.glb.clouddn.com/9f2f070828381f302478ff3aaf014c086f06f0c4.jpg" class="js-avatar">
			
			</div>
			<hgroup>
			  <h1 class="header-author">Doctor nu</h1>
			</hgroup>
			
			<p class="header-subtitle">我的生命中不曾有光，因为除了黑暗，我什么都看不到……</p>
			
			<nav class="header-menu">
				<ul>
				
					<li><a href="/">主页</a></li>
		        
					<li><a href="/archives">所有文章</a></li>
		        
					<li><a href="/tags/随笔">随笔</a></li>
		        
					<li><a href="/photo">相册</a></li>
		        
		        <div class="clearfix"></div>
				</ul>
			</nav>
			<nav class="header-nav">
				<div class="social">
					
						<a class="github" target="_blank" href="#" title="github">github</a>
			        
						<a class="weibo" target="_blank" href="#" title="weibo">weibo</a>
			        
						<a class="rss" target="_blank" href="#" title="rss">rss</a>
			        
						<a class="zhihu" target="_blank" href="#" title="zhihu">zhihu</a>
			        
				</div>
			</nav>
		</header>				
	</div>
</nav>

      <div class="body-wrap">
  
    <article id="post-在HealthKit中使用Sleep-Analysis" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/07/08/在HealthKit中使用Sleep-Analysis/" class="article-date">
  	<time datetime="2016-07-08T01:03:08.000Z" itemprop="datePublished">2016-07-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/07/08/在HealthKit中使用Sleep-Analysis/"> 在HealthKit中使用Sleep Analysis</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h1 id="在HealthKit中使用Sleep-Analysis"><a href="#在HealthKit中使用Sleep-Analysis" class="headerlink" title="在HealthKit中使用Sleep Analysis"></a>在HealthKit中使用Sleep Analysis</h1><h2 id="原作者Anushk-Mittal-译CherryWang"><a href="#原作者Anushk-Mittal-译CherryWang" class="headerlink" title="原作者Anushk Mittal    译CherryWang"></a>原作者Anushk Mittal    译CherryWang</h2><p>最近，睡眠记录的改革变成了一种时尚。用户们比以往更关心自己的睡眠质量，他们不仅仅想要知道自己何时入睡，而且想要通过分析收集到的一段睡眠来揭示睡眠的趋势。在硬件上，特别是手机方面的进展，为这个看上去一直在成长的事物带来了全新的光明。<br>Apple提供了一个很酷的方法，以一种安全的方式来进行用户健康信息的交互，并且将数据安全地保存在内置的Health的应用里。你不仅可以用HealthKit来打造</p>
<p>一个健身的app，你还可以用这个框架来访问睡眠的数据。<br>在这个教程中，我将给你一个关于HealthKit框架的快速简介，并且演示如何打造一个睡眠分析的简单app。</p>
<h3 id="介绍"><a href="#介绍" class="headerlink" title="介绍"></a>介绍</h3><p>HealthKit框架提供了一个名为HealthKit Store的加密框架来存储数据。你可以通过HKHealthStore这个类来访问这个数据库。iPhone和Apple Watch都有他们自己的Health Store。健康的数据在iPhone和Apple Watch上是同步的。然而，Apple Watch上定期的删除旧的数据来节省空间。此外，HealthKit和Health app在iPad上不可用。</p>
<p>如果你想打造一个建立在健康数据上的iOS或者watchOS的应用，HealthKit会是一个强大的工具。HealthKit是专业被设计用于管理广泛来源的数据，并且根据用户偏好自动合并不同来源的数据。应用也可以访问各个来源的原始数据，并且将它们合并。数据不仅仅可以被用于对人体测量、健身或营养，也可以被用于睡眠分析。</p>
<p>对于本文的其余部分，我将给你展示如何使用HealthKit框架来在iOS上保存和访问睡眠分析数据。同时，这样的方法也适用于watchOS应用。请注意这个教程适用于Swift2.0和Xcode7。所以，学习本教程时请保证你的Xcode版本高于Xcode7。<br>在开始之前，下载<a href="http://www.appcoda.com/sleep-analysis-healthkit/" target="_blank" rel="external">起始项目</a>  并解压缩，我已经为你创建好具有基本功能的用户界面。当你运行这个起始项目的时候，你会看见一个显示计时器的UI；当你按下启动按钮的时候，你会看到计时器中时间在跑动。</p>
<h3 id="使用HealthKit-框架"><a href="#使用HealthKit-框架" class="headerlink" title="使用HealthKit 框架"></a>使用HealthKit 框架</h3><p>我们这个应用的目的是保存睡眠分析信息和使用start和stop的按钮来检索数据。你必须在你的app的bundle的包里面授予HealthKit这个Capabilities。在app的project中，打开current target -&gt; capabilities  并打开HealthKit。<br><img src="http://7xs3ih.com1.z0.glb.clouddn.com/HealthKit-allow-1024x640.png" alt="projectpng"></p>
<p>接下来，你需要使用以下代码在ViewController类中创建一个HKHealthStore的实例：<br>    <code>let healthStore = HKHealthStore()</code></p>
<p>接下来我们将使用HKHealthStore实例来访问HealthKit store。<br>正如前面提到的，HealthKit授予用户对自己健康数据的控制权。所以在你获得用户睡眠质量分析的访问（写／读）权之前，你必须首先请求用户的许可。为此，你首先得导入内置的HealthKit框架并这样更新viewDidLoad方法：<br>      <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">override func viewDidload()&#123;</span><br><span class="line">    super.viewDidLoad()</span><br><span class="line">    let typestoRead = Set([</span><br><span class="line">        HKObjectType.categoryTypeForIdentifier(HKCategoryTypeIdentifierSleepAnalysis)!</span><br><span class="line">    ])</span><br><span class="line">    let typestoShare = Set([</span><br><span class="line">        HKObjectType.categoryTypeForIdentifier(HKCategoryTypeIdentifierSleepAnalysis)!</span><br><span class="line">    ])</span><br><span class="line">    self.healthStore.requestAuthorizationToShareTypes(typetoShare, readTypes: typestoRead )&#123; (success, error) -&gt; Void in</span><br><span class="line">        if success  == false&#123;</span><br><span class="line">             NSLog(&quot; Display not allowed&quot;)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这段代码会提示用户允许或拒绝请求的权限。随着block的完成，你可以在回调中处理成功或错误，并获取最终结果。用户可能不同意你的应用请求Health数据的权限，你必须妥善地处理好error。</p>
<p>但是出于测试目的，你必须选择“允许”选项来授予应用访问你的设备上的健康数据的权限。<br><img src="http://7xs3ih.com1.z0.glb.clouddn.com/Health-App-Permission.png" alt="allowedpng"></p>
<h3 id="写入睡眠分析数据"><a href="#写入睡眠分析数据" class="headerlink" title="写入睡眠分析数据"></a>写入睡眠分析数据</h3><p>首先，我们如何能获取睡眠分析数据？按照Apple的文档，每个睡眠分析样本只能有一个值。为了表示用户在上床了和睡着了的状态，HealthKit使用两个或更多的样本在重叠的时间内记录数据。通过比较这些样本开始和结束的时间，应用可以计算出一些更进一步的数据。</p>
<pre><code>1.  用户入睡所花费的时间
2. 用户实际入睡的时间占在床上时间的百分比
3. 用户在床上醒来的次数
4. 在床上与睡着的总时间
</code></pre><p>(第一个图是正确的 第二个图是错误的）<br><img src="http://7xs3ih.com1.z0.glb.clouddn.com/Health-App-Permission.png" alt="statisticspng"></p>
<p>简单来说，你可以按照下面的方法来将睡眠分析数据保存到Health store:</p>
<pre><code>1.  我们需要定义两个NSDate对象分别对应起始和终止时间。
2. 然后我们用HKCategoryTypeIdentifierSleepAnalysis来创建一个HKObjectType实例。
3. 我们需要创建一个HKCategorySample类型的新的对象，通常使用category样本来记录睡眠数据。单个样本代表用户在床上或者睡着的时间段。所以我们会创建一个在床上的样本和一个睡着的样本(两个样本时间重叠)
4. 最后，我们会用HKHealthStore中的saveObject方法来保存对象。
</code></pre><p>｀编者提示：对于样本的类型，你可以在官方文档里查阅相关内容：<a href="https://developer.apple.com/library/ios/documentation/HealthKit/Reference/HealthKit_Constants/index.html#//apple_ref/doc/uid/TP40014710" target="_blank" rel="external">HealthKit Contants Reference</a>｀<br>如果你想要把上述功能用Swift实现，这里有一些代码片段来保存在床上和睡着的睡眠分析数据数值。请在ViewController中插入这个方法:<br>        <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">        func saveSleepAnalysis()&#123;</span><br><span class="line">            //alarmTime 和 endTime 是 NSDate 对象</span><br><span class="line">            if let sleepType = HKObjectType.categoryTypeForIdentifier(HKCategoryTypeIdentifierSleepAnalysis) &#123;</span><br><span class="line">               //我们创建了我们想要上传到Health应用中的新对象</span><br><span class="line">                let object = HKCategorySample(type:sleepType, value:HKCategoryValueSleepAnalysis.InBed.rawValue, startDate: self.alarmTime, endDate: self.endTime)</span><br><span class="line"></span><br><span class="line">               //最后我们保存它</span><br><span class="line">                healthStore.saveObject(object, withCompletion: &#123; (success, error) -&gt; Void in</span><br><span class="line"></span><br><span class="line">                if error != nil&#123;</span><br><span class="line">                    //处理错误的代码</span><br><span class="line">                return                </span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                if success &#123;</span><br><span class="line">                    print(&quot;My  new data was saved in HealthKit&quot;)</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    //处理失败的代码</span><br><span class="line">                &#125;</span><br><span class="line">         &#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">                let object2 = HKCategorySample(type:sleepType, value:HKCategoryValueSleepAnalysis.InBed.rawValue, startDate: self.alarmTime, endDate: self.endTime)</span><br><span class="line">                healthStore.saveObject(object2, withCompletion: &#123; (success, error) -&gt; Void in</span><br><span class="line"></span><br><span class="line">                if error != nil&#123;</span><br><span class="line">                    //处理错误的代码</span><br><span class="line">                return                </span><br><span class="line">                &#125;</span><br><span class="line"></span><br><span class="line">                if success &#123;</span><br><span class="line">                    print(&quot;My  new data (2) was saved in HealthKit&quot;)</span><br><span class="line">                &#125; else &#123;</span><br><span class="line">                    //处理失败的代码</span><br><span class="line">                &#125;</span><br><span class="line">         &#125;)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这个方法可以在我们想要把睡眠分析数据保存到HealthKit上的时候调用</p>
<h3 id="读取睡眠分析数据"><a href="#读取睡眠分析数据" class="headerlink" title="读取睡眠分析数据"></a>读取睡眠分析数据</h3><p>为了读取睡眠分析数据，我们需要创建一个查询query。首先你应该通过定义一个HKObjectType的category来改变HKCategoryTypeIdentifierSleepAnalysis。你可能还需要用startDate和endDate，这两个分别对应你想要要获取数据的时间范围的NSDate对象来筛选获取的数据。为了获取期望的结果，你还需要创建一个sortDescriptor对获得的查询进行排序。<br>你获取睡眠质量分析的代码应该是这样的：<br>         <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">func retrieveSleepAnalysis()&#123;</span><br><span class="line">        //首先我们定义想要的对象类型</span><br><span class="line">        if let sleepType = HKObjectTypeForIdentifier(HKCategoryTypeIdentifierSleepAnalysis)&#123;</span><br><span class="line">            //用sortDescriptor先获取最近的数据</span><br><span class="line">          let sortDescriptor = NSSortDescriptor(key: HKSampleSortIdentifierEndDate,assending:false)</span><br><span class="line">            //用block来实现我们对查询的创建</span><br><span class="line">          let query = HKSampleQuery(sampleType: sleepType, predicate:nil, limit: 30, sortDescriptors: [sortDescriptor])&#123; (query, tmpResult, error) -&gt; Void in</span><br><span class="line">                if error  != nil&#123;</span><br><span class="line">                //处理错误的代码</span><br><span class="line">                    return</span><br><span class="line">                &#125;</span><br><span class="line">                if let result = tmpresult&#123;</span><br><span class="line">                    for item in result&#123;</span><br><span class="line">                        if let sample = item as?HKCategoryValueSleepAnalysis.InBed.rawValue) ?&quot;InBed&quot; : &quot;Asleep&quot;</span><br><span class="line">                        print(&quot;Healthkit sleep\(sample.startDate)\(sample.endDate) - value:\(value)&quot;)</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        //最后，我们实现查询</span><br><span class="line">        healthStore.excuteQuery(query)</span><br><span class="line">        &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p>
<p>这段代码查询了HealthKit，获取了所有睡眠分析数据并且以降序形式排列。然后每一个查询用startDate和endDate来打印固定数值(比如在床上或者睡着)。我设置了上限30来获取最近的30条记录样本。你可以使用谓词方法来自定义你的开始和结束日期。</p>
<h3 id="应用测试"><a href="#应用测试" class="headerlink" title="应用测试"></a>应用测试</h3><p>对于demo的程序，当你按下开始按钮，我用NSTimer来展现时间流逝。这些保存睡眠分析数据经过的时间的NSDate对象在开始和结束的按钮按下时被创建。在stop的action方法中，你可以调用saveSleepAnalysis()和retrieveSleepAnaysis()方法来保存或者获取睡眠数据。<br>    ​    ​    ​<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">    ​    ​    ​@IBAction func stop(sender: AnyObject)&#123;</span><br><span class="line">    ​    ​    ​endTime = NSDate()</span><br><span class="line">    ​    ​    ​saveSleepAnalysis()</span><br><span class="line">    ​    ​    ​retrieveSleepAnalysis()</span><br><span class="line">    ​    ​    ​timer.invalidate()</span><br><span class="line">    ​    ​    ​&#125;</span><br><span class="line">​    ​    ​    ​</span><br></pre></td></tr></table></figure></p>
<p>在你的app中，你可以改变NSDate对象来选择相应的开始和结束的时间(很有可能是不同的)来保存在床上或者睡着的数值。<br> 一旦你完成了这些代码，你可以运行demo并且开始计时器。让它运行一会然后点击结束按钮。在此之后，打开Health app。你会在那里看到睡眠数据。<br><img src="http://7xs3ih.com1.z0.glb.clouddn.com/sleep-analysis-test-1024x725-1.png" alt="png1"></p>
<h3 id="对于HealthKit应用的一些建议"><a href="#对于HealthKit应用的一些建议" class="headerlink" title="对于HealthKit应用的一些建议"></a>对于HealthKit应用的一些建议</h3><p>​HealthKit是被设计用来给app开发者提供一个更容易的分享和访问用户数据的平台，并且避免任何可能的重复或矛盾的数据。Apple对使用HealthKit的app有特别的审查条例，如果你请求HealthKit数据的读写权限，但没有明确声明数据的用途，你会在上架请求中被拒绝。<br>​如果App保存了虚假或错误的数据到Health应用中也会被拒绝。这就说明，你计算不同健康数值(像本教程中所讲的睡眠数据)的算法不能太弱智。你应该尝试使用内置的传感器数据来读取和修改任何参数来避免计算出错误的数据。<br>​想要获得完整的demo，你可以点击<a href="https://github.com/appcoda/SleepAnalysis" target="_blank" rel="external">这里</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-第三方库Massory和SDAutlayout使用说明" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/06/25/第三方库Massory和SDAutlayout使用说明/" class="article-date">
  	<time datetime="2016-06-25T02:33:33.000Z" itemprop="datePublished">2016-06-25</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/25/第三方库Massory和SDAutlayout使用说明/">第三方库Massory和SDAutlayout使用说明</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>###All By CherryWang 转载请注明出处</p>
<h1 id="Masonry"><a href="#Masonry" class="headerlink" title="Masonry"></a>Masonry</h1><p>最近做到仿微信朋友圈的动态显示 用到了很多关于屏幕适配的AutoLayout相关的东西 研读了一下Masonry觉得比系统本身的NSLayoutConstraint好用多了<br>不过这个原版的说明是英文版的 使用的时候还是有诸多不便的 我现在写一份使用说明 希望不仅仅能给自己 还能给大家带来一些方便</p>
<h3 id="地址"><a href="#地址" class="headerlink" title="地址"></a>地址</h3><p>首先当然是上github上面的地址<br><a href="https://github.com/SnapKit/Masonry" target="_blank" rel="external">Masonry</a><br>不过如果你是swift开发者的话 这里也有适合你的库<br><a href="https://github.com/SnapKit/SnapKit" target="_blank" rel="external">SnapKit</a></p>
<h3 id="说明"><a href="#说明" class="headerlink" title="说明"></a>说明</h3><p>Masonry是一个轻量级的布局框架,使用优雅一点的语言包装了系统自带的NSLayoutConstraint，最重要的一点，它让第三方库更加可读。<br>导入Masonry很简单，用pod就好<br><code>pod &#39;Masonry&#39;</code><br>如果你不想要<code>mas_</code>前缀，在你的全局头文件中加入<br><code>#define MAS_SHORTHAND</code></p>
<p>#开车啦<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">UIEdgeInsets padding = UIEdgeInsetsMake(10, 10, 10, 10);</span><br><span class="line"></span><br><span class="line">[view1 mas_makeConstraints:^(MASConstraintMaker *make) &#123;</span><br><span class="line">    make.top.equalTo(superview.mas_top).with.offset(padding.top); //with is an optional semantic filler</span><br><span class="line">    make.left.equalTo(superview.mas_left).with.offset(padding.left);</span><br><span class="line">    make.bottom.equalTo(superview.mas_bottom).with.offset(-padding.bottom);</span><br><span class="line">    make.right.equalTo(superview.mas_right).with.offset(-padding.right);</span><br><span class="line">&#125;];</span><br></pre></td></tr></table></figure></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-仿网易新闻菜单滑动第三方深度定制" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/06/20/仿网易新闻菜单滑动第三方深度定制/" class="article-date">
  	<time datetime="2016-06-20T13:27:25.000Z" itemprop="datePublished">2016-06-20</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/20/仿网易新闻菜单滑动第三方深度定制/">仿网易新闻菜单滑动第三方深度定制</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="仿网易新闻优秀第三方库-（后续上图）"><a href="#仿网易新闻优秀第三方库-（后续上图）" class="headerlink" title="仿网易新闻优秀第三方库 （后续上图）"></a>仿网易新闻优秀第三方库 （后续上图）</h3><h4 id="ALL-BY-CherryWang-转载请注明出处"><a href="#ALL-BY-CherryWang-转载请注明出处" class="headerlink" title="ALL BY CherryWang (转载请注明出处)"></a>ALL BY CherryWang (转载请注明出处)</h4><hr>
<p>  最近做了一个项目，老板要求菜单栏要有朋友印象那种效果，要是那种滑动的菜单，最好是仿照网易新闻首页的那种滑动的菜单。<br>  本来我是自己封装一个菜单栏的，想了一下。上面滑动的菜单用一个scrollview，scrollview上面设置几个固定的按钮，监听页面的滑动，每次换一个页面的时候，按钮的背景颜色，字体大小以及颜色进行改变达到那种显著的切换效果。下面切换的菜单就用一个scrollview上面在覆盖一层三个tableview，scrollview是用来控制横向滑动的，就是用图片轮播器的概念和tableview相结合 用tableview的tag属性来切换按钮和界面 最后实现这种效果。<br>  后来一直就是用的自己封装的这个菜单控件。感觉自己萌萌哒。可是后来遇到一个问题，我写的空间耦合度实在是太低了，封装的太差，导致代码很难重用。最终要的一点是，我只用了一个控制器来实现这所有的内容。啊。。后来我用了Bmob的云数据库，以及李明杰老师的MJRefrsh.操蛋的一件事情发生了。我的tableview卡顿到爆 几个tableview每次reload的时候我向左滑动的效果就变得极差，真是气死我了。</p>
<p>  后来我发现怎么优化都必须解决这个controller的MVC中的C占的比重过多的问题.一咬牙一跺脚，决定放弃自己封装的菜单空间，改去拥抱大神们封装的空间，看看有没有什么优秀的第三库可以使用或者可以借鉴一下设计模式。果不其然，让我在code4app里面找到一个最近才上传的十分优秀的一个demo，可以说是一个第三方库，简直是太棒了<br>  分享一下网址<br>  <a href="http://code4app.com/thread-8061-1-1.html" target="_blank" rel="external">超级干货仿网易</a>;</p>
<p>  详细解析<br>  code4app的帖子上已经介绍的很清楚了 但是我现在主要是想纪录一下我修改这个库的过程 鉴于自己的神记忆能力与理解能力<br>  先贴一下文件列表<br>  <img src="http://7xs3ih.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-06-21%20%E4%B8%8A%E5%8D%889.57.02.png" alt=""></p>
<h4 id="UIView-ZJFrame"><a href="#UIView-ZJFrame" class="headerlink" title="UIView+ZJFrame"></a>UIView+ZJFrame</h4><p>  这个是用来设置每一个view的长宽高的 倒时候取出来的时候会很方便 这里就不想详细介绍了 作者的思路还是很清楚的</p>
<h4 id="UIViewController-ZJScrollPageController"><a href="#UIViewController-ZJScrollPageController" class="headerlink" title="UIViewController+ZJScrollPageController"></a>UIViewController+ZJScrollPageController</h4><p>  这个是描写父控制器与子控制器的 如头文件所说 方便每个子控制页面直接获取父控制器的 已经父子控制器进行一些操作 因为菜单下面的view作者是单独封装成一个一个控制器的 这有一个好处 每一个控制器都有自己的生命周期 以至于控制界面的时候我们可以在界面开始之前 开始之后 完全加载之后做一些很多内存啊 还是数据初始化的加载 这也是我选择使用这个第三方空间来优化我自己的menu的主要的一个原因<br>  这里面还使用了iOS界的一个黑模仿runtime哈哈哈<br>  不过这里面 以我现在的水平来说 还是没有办法定制的</p>
<h4 id="ZJContentView"><a href="#ZJContentView" class="headerlink" title="ZJContentView"></a>ZJContentView</h4><p>  这个主要是对子控制器的页面刷新 还有滚动速度调整 主要还是建立一个父控制器和子控制之间的关系 用了一个CollectionView的布局 使用weak避免页面循环引用 处理重用和内容显示的问题 我的业务暂时还没涉及到这部分 所以可能说寥寥数语带过</p>
<h4 id="ZJCustomLabel"><a href="#ZJCustomLabel" class="headerlink" title="ZJCustomLabel"></a>ZJCustomLabel</h4><p>  如题 定制了一个特定的label</p>
<h4 id="ZJSegmentStyle-以及-ZJScrollSegmentView"><a href="#ZJSegmentStyle-以及-ZJScrollSegmentView" class="headerlink" title="ZJSegmentStyle 以及 ZJScrollSegmentView"></a>ZJSegmentStyle 以及 ZJScrollSegmentView</h4><p>  前两个文件就直接带过吧 我主要研读的是接下来两段的代码<br>  <img src="http://7xs3ih.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-06-21%20%E4%B8%8A%E5%8D%8810.13.27.png" alt=""><br>  <img src="http://7xs3ih.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-06-21%20%E4%B8%8A%E5%8D%8810.10.58.png" alt=""><br>  我先从style这个文件开始 这个是用来设置菜单来高度的 作者的注释很全 提供了很多借口 很方便 代码的重用以及定制<br>  （我个人觉得封装第三方库的话 真是一个很棒的事情 你把所有的参数都抽出来 然后每次调用的时候 重新定义一下就可以了 @property就是 Obj里面一个很典型的设置公共参数的东西 不想其他别种的语言 Obj有一个特性 就是所有的参数以及变量都是私有的 相当于java里面的private 我们不能够很好的去调用一个参数 只有把它放在外面的 用property来实现接口 设置的时候还要考虑好究竟是strong 还是 weak 是assign还是copy抑或是retain 当然大多数时候我们需要再多加一个设置nonatomic来保证这个参数是线程安全的 （之后很少情况下会遇到atomic来定义 好像是在线程锁这方面会使用到 不过我暂时还没有使用过）</p>
<p>  这个是来设置覆盖 （下划线）的UI 以及各个动态获取并get到label长度的主要文件</p>
<p>  作者已经在头文件写的很详细了 我们每次使用的时候只需要直接导入头文件 实例化之后设置就好了</p>
<p>  但是我要投诉一下 反映一下这个空间的不足与缺点</p>
<p>  1.我每次想到定制菜单栏的UI的时候 有的时候对每一个title的逻辑像素点左边有固定要求的时候 我是设置不了的<br>  我需要去ZJScrollSegmentView这个文件里面 找到一个<code>setUpLabelsPosition</code>的方法来重新通过用数学计算的方法来定制页面<br>  所以我在ZJSegmentStyle的头文件之中加了一个插座接口<code>XYzuobiao</code> 如果我在一个工程中有多个地方需要调用这个中间的时候 每次调用的时候我的xy坐标以及大小 覆盖范围 颜色是要去不一样的 所以多一个便来来判断是哪一个<br>  我在这里进行自定义的方式通过公式来计算的 第一个坐标是可以固定的 用titlex titley titlew titleh 来进行设置 然后用forin循环来loop对title进行遍历 index＋＋ 接下来的坐标就是更改x的坐标了 延伸一下 这里面我们还可以来设置一下 这样的话 哈哈 还可以进行垂直方向的甚至于斜方向的定义<br>  <img src="http://7xs3ih.com1.z0.glb.clouddn.com/%E5%B1%8F%E5%B9%95%E5%BF%AB%E7%85%A7%202016-06-21%20%E4%B8%8A%E5%8D%8810.24.59.png" alt=""><br>  2.当你以为更改结束title的坐标之后就结束了 你就错了 这个控件主要是通过label的长度来进行覆盖或者下划线的长度 所以更改万title的坐标还没完 你还要去更改一下覆盖或者是下滑线的初始坐标<br>  更改覆盖初始坐标的方法<code>setupScrollLineAndCover</code>里面有这么一行<code>coverX = (firstLabel.zj_width - coverW) * 0.5;</code>你可以在这个后面加个数值</p>
<p>  3.我个人觉得他这个控件根据label的长度来进行移动 渐变 是不错 但是这个空间的宽度是不是有一点太直男癌后期患者了 我觉得不能够仅仅根据label长度来进行封装 于是我找了半天怎么更改阴影的长度<br>  代码太多看起来果然有一种日了🐶的感觉 不过好在还是让我给找到了 在方法<code>setupTitles</code>里面有一句<code>[self.titleWidths addObject:@(bound.size.width)];</code>当你想要使用的时候 你只需更改成这样<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">  CGFloat labelwidth =bounds.size.width+30;</span><br><span class="line">[self.titleWidths addObject:@(labelwidth)];</span><br></pre></td></tr></table></figure></p>
<p>  就可以了</p>
<p>  4.再说一个很坑的东西吧 我个人觉得作者没有优化好的地方 当我想要修改这个菜单的背景颜色的时候 日🐶的事情出现了 竟然在style里面没有接口 果然不能够愉快的玩耍了啊 不过后来我奇思妙想 然后就在 “setupUI” 这个方法里面直接加拉一条<code>_scrollView.backgroundColor = [UIColor colorWithRed:55.0/255.0 green:67.0/255.0 blue:81.0/255.0 alpha:1];</code><br>  愉快的搞定了 不过好像不是在这边改的 😂 先改了以后再修改吧 老板催的很急啊</p>
<h3 id="记录一下修改的小细节-希望以后重用的时候能够使用到"><a href="#记录一下修改的小细节-希望以后重用的时候能够使用到" class="headerlink" title="记录一下修改的小细节 希望以后重用的时候能够使用到"></a>记录一下修改的小细节 希望以后重用的时候能够使用到</h3>
      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-关于iOS图片压缩相关" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/06/11/关于iOS图片压缩相关/" class="article-date">
  	<time datetime="2016-06-11T02:06:37.000Z" itemprop="datePublished">2016-06-11</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/11/关于iOS图片压缩相关/">关于iOS图片压缩相关</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>all by CherryWang 转载请声明出处<br>最近有做到用户系统这方面的东西，就遇上了压缩图这个问题，目前处理的问题是用户头像的问题<br>头像直接上传的只保存一份的话。每一次用户使用的时候就回加载原图，烧流量而且会很卡顿。为了解决这个问题，我们通过一个压缩图的算法来实现在本地生成压缩图，然后上传云端的功能。<br>本来是打算直接上传图片到服务器的，可惜的是我用的是bmob的服务器，它在2016年之后的版本都不支持请求缩略图这个功能了，心好累。后来打算用javascripe重新写一份云端的逻辑的，结果bug太多，不会的东西还是不要强行装逼的比较好。<br>之后又打算再集成一个七牛sdk，再把所有的图片都放在七牛的服务器上面，后来想一想七牛那迷一般的文档，就放弃了😂。<br>我打算现在客户端先生成两份图 上传的时候上传两份图，后期再做朋友圈或者朋友印象这部分功能的时候在集成一下七牛的环境好了。</p>
<h2 id="吐槽一下-这真是一个多元化API-and-快速开发的时代啊😂"><a href="#吐槽一下-这真是一个多元化API-and-快速开发的时代啊😂" class="headerlink" title="吐槽一下 这真是一个多元化API and 快速开发的时代啊😂"></a>吐槽一下 这真是一个多元化API and 快速开发的时代啊😂</h2><p>言归正传</p>
<h3 id="做图片的压缩图的两种方式"><a href="#做图片的压缩图的两种方式" class="headerlink" title="做图片的压缩图的两种方式"></a>做图片的压缩图的两种方式</h3><p>第一种就是压，就是降低清晰度，但是图片的尺寸不变，像素数不变<br>第二种就是缩，把图片的尺寸变小，长宽减少了，像素数也就减少了，同时文件的体积也减小了</p>
<h4 id="第一种“压”—-压缩图片质量"><a href="#第一种“压”—-压缩图片质量" class="headerlink" title="第一种“压”—-压缩图片质量"></a>第一种“压”—-压缩图片质量</h4><p>压缩图片质量有两种形式（其实是一样的）<br>1.第一种<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">float kCompressionQuality = 0.3; //这个是压缩的比例</span><br><span class="line">  NSData *photo = UIImageJPEGRepresentation(UIImage, kCompressionQuality);</span><br></pre></td></tr></table></figure></p>
<p>2.第二种</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">+(UIImage *)reduceImage:(UIImage *)image percent:(float)percent</span><br><span class="line">&#123;</span><br><span class="line">  NSData *imageData = UIImageJPEGRepresentation(image, percent);</span><br><span class="line">  UIImage *newImage = [UIImage imageWithData:imageData];</span><br><span class="line">  return newImage;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h4 id="第二种“缩”—-减小图片尺寸"><a href="#第二种“缩”—-减小图片尺寸" class="headerlink" title="第二种“缩”—-减小图片尺寸"></a>第二种“缩”—-减小图片尺寸</h4><p>减小图片尺寸呢 有两种不同的减小 第一种就是给定尺寸来减小 第二种就是等比例减小<br>废话不多少 直接上代码<br>1.给定尺寸减小</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">-(UIImage *)scaleToSize:(UIImage *)aImage size:(CGSize)size&#123;</span><br><span class="line">    //获取当前图片的尺寸</span><br><span class="line">    UIGraphicsBeginImageContext(size);</span><br><span class="line">    //绘制出新图片(新尺寸)</span><br><span class="line">    [aImage drawInRect:CGRectMake(0, 0, size.width, size.height)];</span><br><span class="line">    UIImage *newImage = UIGraphicsGetImageFromCurrentImageContext();</span><br><span class="line">    //结束绘制</span><br><span class="line">    UIGraphicsEndImageContext();</span><br><span class="line">    return newImage;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<p>2.等比例减小</p>
<figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br></pre></td><td class="code"><pre><span class="line">/等比例压缩</span><br><span class="line">-(UIImage *)oldImage:(UIImage *)oldImage toSize:(CGSize)size&#123;</span><br><span class="line"></span><br><span class="line">    UIImage *newImage = nil;//新照片对象</span><br><span class="line">    CGSize theSize = oldImage.size;//压缩前图片size</span><br><span class="line"></span><br><span class="line">    CGFloat width = theSize.width; //压缩前图片width</span><br><span class="line">    CGFloat height = theSize.height;//压缩前图片height</span><br><span class="line"></span><br><span class="line">    CGFloat newWidth = size.width; //压缩后图片width</span><br><span class="line">    CGFloat newHeight = size.height;//压缩后图片height</span><br><span class="line"></span><br><span class="line">    CGFloat scaleFactor = 0.0;//初值</span><br><span class="line"></span><br><span class="line">    CGFloat toWidth = newWidth;//压缩后图片width</span><br><span class="line">    CGFloat toHeight = newHeight;//压缩后图片height</span><br><span class="line"></span><br><span class="line">    CGPoint thumnailPoint = CGPointMake(0.0, 0.0);//给初值</span><br><span class="line"></span><br><span class="line">    if (CGSizeEqualToSize(theSize, size) == NO) &#123;</span><br><span class="line">        //判断是不是已经满足 theSize = size 要求</span><br><span class="line"></span><br><span class="line">        CGFloat widthFac = newWidth/width;</span><br><span class="line">        CGFloat heithrFac = newHeight/height;</span><br><span class="line">        if (widthFac &gt; heithrFac) &#123;</span><br><span class="line">            scaleFactor = widthFac;</span><br><span class="line">        &#125;else &#123;</span><br><span class="line">            scaleFactor = heithrFac;</span><br><span class="line">        &#125;</span><br><span class="line">        //不满足做等比例缩小处理</span><br><span class="line">        toWidth = width *scaleFactor;</span><br><span class="line">        toHeight = height *scaleFactor;</span><br><span class="line"></span><br><span class="line">        if (widthFac &gt; heithrFac) &#123;</span><br><span class="line">            thumnailPoint.y = (newHeight - toHeight)* 0.5;</span><br><span class="line">        &#125;else if (widthFac &lt; heithrFac)&#123;</span><br><span class="line">            thumnailPoint.x = (newWidth - toWidth)* 0.5;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    //创建context,并将其设置为正在使用的context</span><br><span class="line">    UIGraphicsBeginImageContext(size);</span><br><span class="line">    CGRect thumbnailRect  = CGRectZero;</span><br><span class="line">    thumbnailRect.origin = thumnailPoint;</span><br><span class="line">    thumbnailRect.size.width = toWidth;</span><br><span class="line">    thumbnailRect.size.height = toHeight;</span><br><span class="line"></span><br><span class="line">    //绘制出图片(大小已经改变)</span><br><span class="line">    [oldImage drawInRect:thumbnailRect];</span><br><span class="line"></span><br><span class="line">    newImage = UIGraphicsGetImageFromCurrentImageContext();</span><br><span class="line"></span><br><span class="line">    //结果判断</span><br><span class="line">    if (newImage == nil) &#123;</span><br><span class="line">        [NSException exceptionWithName:@&quot;提示&quot; reason:@&quot;Error:image scale fail&quot; userInfo:nil];</span><br><span class="line">    &#125;</span><br><span class="line">    UIGraphicsEndImageContext();</span><br><span class="line">    return newImage;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-(UIImage *) imageCompressForWidth:(UIImage *)sourceImage targetWidth:(CGFloat)defineWidth&#123;</span><br><span class="line"></span><br><span class="line">    UIImage *newImage = nil;</span><br><span class="line"></span><br><span class="line">    CGSize imageSize = sourceImage.size;</span><br><span class="line"></span><br><span class="line">    CGFloat width = imageSize.width;</span><br><span class="line">    CGFloat height = imageSize.height;</span><br><span class="line"></span><br><span class="line">    CGFloat targetWidth = defineWidth;</span><br><span class="line">    CGFloat targetHeight = height / (width / targetWidth);</span><br><span class="line">    CGSize size = CGSizeMake(targetWidth, targetHeight);</span><br><span class="line">    CGFloat scaleFactor = 0.0;</span><br><span class="line"></span><br><span class="line">    CGFloat scaledWidth = targetWidth;</span><br><span class="line">    CGFloat scaledHeight = targetHeight;</span><br><span class="line"></span><br><span class="line">    CGPoint thumbnailPoint = CGPointMake(0.0, 0.0);</span><br><span class="line"></span><br><span class="line">    if(CGSizeEqualToSize(imageSize, size) == NO)&#123;</span><br><span class="line">        CGFloat widthFactor = targetWidth / width;</span><br><span class="line">        CGFloat heightFactor = targetHeight / height;</span><br><span class="line">        if(widthFactor &gt; heightFactor)&#123;</span><br><span class="line">            scaleFactor = widthFactor;</span><br><span class="line">        &#125;</span><br><span class="line">        else&#123;</span><br><span class="line">            scaleFactor = heightFactor;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        scaledWidth = width * scaleFactor;</span><br><span class="line">        scaledHeight = height * scaleFactor;</span><br><span class="line">        if(widthFactor &gt; heightFactor)&#123;</span><br><span class="line">            thumbnailPoint.y = (targetHeight - scaledHeight) * 0.5;</span><br><span class="line">        &#125;else if(widthFactor &lt; heightFactor)&#123;</span><br><span class="line">            thumbnailPoint.x = (targetWidth - scaledWidth) * 0.5;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    UIGraphicsBeginImageContext(size);</span><br><span class="line">    CGRect thumbnailRect = CGRectZero;</span><br><span class="line">    thumbnailRect.origin = thumbnailPoint;</span><br><span class="line">    thumbnailRect.size.width = scaledWidth;</span><br><span class="line">    thumbnailRect.size.height = scaledHeight;</span><br><span class="line"></span><br><span class="line">    [sourceImage drawInRect:thumbnailRect];</span><br><span class="line"></span><br><span class="line">    newImage = UIGraphicsGetImageFromCurrentImageContext();</span><br><span class="line">    if(newImage == nil)&#123;</span><br><span class="line">        NSLog(@&quot;scale image fail&quot;);</span><br><span class="line">    &#125;</span><br><span class="line">    UIGraphicsEndImageContext();</span><br><span class="line">    return newImage;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p>就先介绍到这里 有什么问题可以问我</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-iOS中BitCode的介绍和配置" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/06/02/iOS中BitCode的介绍和配置/" class="article-date">
  	<time datetime="2016-06-02T12:15:52.000Z" itemprop="datePublished">2016-06-02</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/06/02/iOS中BitCode的介绍和配置/">iOS中BitCode的介绍和配置</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>今天在一个iOS培训网站上看到一篇关于第三方库不包含bitcode就会报错的文章，感觉剖析得很详细，分享出来，希望可以对iOS初入门者有所帮助。下面我们就一起来看看吧。</p>
<p>用Xcode 7 beta 3在真机(iOS 8.3)上运行一下工程，结果发现工程编译不过。看了下问题，报的是以下错误：</p>
<p>ld: ‘/Users/<strong>/Framework/SDKs/PolymerPay/Library/mobStat/lib</strong>SDK.a(**ForSDK.o)’does not contain bitcode. You must rebuild it with bitcode enabled (Xcodesetting ENABLE_BITCODE), obtain an updated library from the vendor, or disablebitcode for this target. for architecture arm64</p>
<p>得到的信息是引入的一个第三方库不包含bitcode。</p>
<p>Bitcode是个什么鬼？</p>
<p>查阅了一下官方文档，在App</p>
<p>Distribution Guide–App Thinning (iOS, watchOS)一节中，找到了下面这样一个定义：</p>
<p>Bitcode is an intermediate representationof a compiled program. Apps you upload to iTunes Connect that contain bitcodewill be compiled and linked on the App Store. Including bitcode will allowApple to re-optimize your app binary in the future without the need to submit anew version of your app to the store.</p>
<p>说的是bitcode是被编译程序的一种中间形式的代码。包含bitcode配置的程序将会在App store上被编译和链接。bitcode允许苹果在后期重新优化程序的二进制文件，而不需要重新提交一个新的版本到App store上。</p>
<p>而在What’s New in Xcode-New Features in Xcode 7中，还有一段如下的描述：</p>
<p>Bitcode. When you archive for submission tothe App Store, Xcode will compile your app into an intermediate representation.The App Store will then compile the bitcode down into the 64 or 32 bitexecutables as necessary.</p>
<p>当提交程序到App store上时，Xcode会将程序编译为一个中间表现形式(bitcode)。然后App store会再将这个botcode编译为可执行的64位或32位程序。</p>
<p>再看看这两段描述，都是放在App Thinning(App瘦身)一节中，可以看出其与包的优化有关了。</p>
<p>Bitcode配置</p>
<p>在上面的错误提示中，提到了如何处理我们遇到的问题：</p>
<p>You must rebuild it with bitcode enabled(Xcode setting ENABLE_BITCODE), obtain an updated library from the vendor, ordisable bitcode for this target. for architecture arm64</p>
<p>要么让第三方库支持，要么关闭target的bitcode选项。</p>
<p>实际上，在Xcode 7中，我们新建一个iOS程序时，bitcode选项默认是设置为YES的。我们可以在”Build Settings”-&gt;”Enable Bitcode”选项中看到这个设置。不过，我们现在需要考虑的是三个平台：iOS，Mac OS，watchOS。</p>
<p>对于iOS，bitcode是可选的；对于watchOS，bitcode是必须的；而Mac OS是不支持bitcode。</p>
<p>如果我们开启了bitcode，在提交包时，下面这个界面也会有个bitcode选项：</p>
<p>所以，如果我们的工程需要支持bitcode，则必要要求所有引入的第三方库都支持bitcode。</p>
<p>通过本文对bitcode的概念及配置情况的简要介绍，希望iOS开发人员在工程运行中遇到类似的情况，可以根据上文的介绍更有效的找到原因并及时处理。</p>
<p>原文链接：<a href="http://www.jianshu.com/p/3e1b4e2d06c6" target="_blank" rel="external">http://www.jianshu.com/p/3e1b4e2d06c6</a></p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-storyboard使用的一些坑" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/29/storyboard使用的一些坑/" class="article-date">
  	<time datetime="2016-05-29T06:11:46.000Z" itemprop="datePublished">2016-05-29</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/29/storyboard使用的一些坑/">storyboard使用的一些坑</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>最近使用storyboard进行了一系列的操作对于我这种手法不娴熟的人简直痛苦到窒息<br>不过我个人还是主推使用storyboard的，因为大势所趋，虽然只使用纯代码来构建布局的话耦合性会高一点。但是这个没有storyboard这种东西，很难理解一个产品的构架与结构啊<br>下面记述我在storyboard上面遇上的一些小坑，希望以后自己能够警醒，也希望这些能够帮助别人</p>
<h3 id="设置rootViewController的坑"><a href="#设置rootViewController的坑" class="headerlink" title="设置rootViewController的坑"></a>设置rootViewController的坑</h3><p>  有的时候我们用storyboard来实现一些页面的跳转，刚开始的时候想我就不会先去用kvc的模式去creat class所以这个时候会遇到一个问题，你在storyboard里面创建viewcontroller没有对应的实例类，当你需要通过带来来进行交互的时候，就会很困难。<br>说一下我的个人经历<br>  最近我个人做到bmob的注册登录的模块的时候，需要加一条逻辑。<br>  如果不是第一次使用这个app，在此之前已经注册并登录过，就跳过登录注册的界面<br>。。。。。<br>  这个看起来很简单<br>  只需要在appdelegate里面加一条逻辑 取出磁盘中的当前用户，加一个判断</p>
<pre><code>  `` BmobUser *bUser = [BmobUser getCurrentUser];
if (bUser) {

}else{

}
  ``
</code></pre><p>  我觉得这个时候我直接实例一个类 然后在self.window.rootViewController就可以了对吧<br>  然后我就被自己坑了<br>  你在root tabbar控制器的时候要这样写啊<br>    先把你的tabbar 的子rootviewcontroller里面加一个identifer<br>    然后在appdelegate里面实例化一个storyboard<br>    再把storyboard里面的控制器给取出来<br>    又因为是tabbar<br>    所以你要把tabbar下面每一个子rootviewcontroller实例一下<br>    然后存到一个数组里面<br>    然后显示tabbar加数组</p>
<pre><code>不废话了
代码如下
    ``        
    //进行操作
    //取出sb
    UIStoryboard *sb = [UIStoryboard storyboardWithName:@&quot;Main&quot; bundle:[NSBundle mainBundle]];
    _tabBarController =[[UITabBarController alloc]init];

    UINavigationController *nav =[sb instantiateViewControllerWithIdentifier:@&quot;tabController1&quot;];
    UIViewController *tabbar2 = [sb instantiateViewControllerWithIdentifier:@&quot;tabController2&quot;];
    UIViewController *tabbar3 =[sb instantiateViewControllerWithIdentifier:@&quot;tabController3&quot;];
    UIViewController *tabbar4 = [sb  instantiateViewControllerWithIdentifier:@&quot;tabController4&quot;];

    NSArray *controllers = [NSArray arrayWithObjects:nav, tabbar2,tabbar3,tabbar4, nil];
    _tabBarController.viewControllers = controllers;
    self.window.rootViewController = _tabBarController;

    self.window.rootViewController = self.tabBarController;
    ``
</code></pre><h3 id="页面跳转的坑"><a href="#页面跳转的坑" class="headerlink" title="页面跳转的坑"></a>页面跳转的坑</h3><p>storyboard最好的东西没有只有就是每一个东西都可以加identifer<br>haha<br>尤其是跳转页面的时候<br>你用segue跳转的时候判断一下identifer就好啦</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-secret-crush-on-laviexu-十六岁的暗恋" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/05/13/secret-crush-on-laviexu-十六岁的暗恋/" class="article-date">
  	<time datetime="2016-05-13T12:49:50.000Z" itemprop="datePublished">2016-05-13</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/05/13/secret-crush-on-laviexu-十六岁的暗恋/">a secret crush on laviexu 十六岁的暗恋</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <p>人的一生走的很快，很害怕等到自己老去的时候忘记自己年少时发生的事情。很多人都是感觉型的生物。他们会记住每一件事情发生时候的感觉，但是会忘记当时发生的事情。我不愿忘记这一段往事，它记录了我的青春，以及我最爱的人。<br>我追到了我爱的人，可是，我还是失去了她。<br>I had a crush on her. I lost myself. Without her ,life become colorless.</p>
<h4 id="窸窸窣窣的回忆"><a href="#窸窸窣窣的回忆" class="headerlink" title="窸窸窣窣的回忆"></a>窸窸窣窣的回忆</h4><p>这件事情过去快四年了，很多细节已经记不太清楚了。我决定按照时间线来记述这些记忆。</p>
<h5 id="2012-8-31"><a href="#2012-8-31" class="headerlink" title="2012.8.31"></a>2012.8.31</h5><p>遇见徐祎璠是我这辈子最幸运的事情。</p>
<h5 id="2012-9"><a href="#2012-9" class="headerlink" title="2012.9"></a>2012.9</h5><p>座位<br>分座位的时候我坐在徐祎璠的右前方，我好像是为数不多知道她名字怎么读的人。但是自己还是喜欢从大流起着哄，徐伟潘徐伟潘的喊。后来她生气了，一脸不屑，那表情好像在嘲讽我们的无知。冷酷🈶️意味深长，从那以后，徐伟潘这个名字我再也说过，那个时候的我觉得这个用冷漠去嘲讽别人的人还挺有意思的。</p>
<p>我发现徐祎璠长得很像我初中的好朋友曾真。<br>其实一点也不像，只是在性格的某方面有着极高的相似度。</p>
<p>外卖<br>我当时是班里面的外卖小王子，在高中那个封闭的环境，不吃食堂订外卖是一个很酷的事情。现在想来那个时候的自己真是傻，每次都帮班里面同学定外卖，二三十瓶的coco，我一个人去记去拿去送，没人愿意拿，每次我却乐此不疲的爱跑腿，偶尔还被同学埋怨定错。某一天，徐祎璠和我一起拿奶茶，她和我说，“没有人会愿意去做这么吃力不讨好的事情”。瞬间蒙逼，觉得这个话说的好……直接。。我也很少愿意去帮跑腿了。</p>
<h5 id="2012-10"><a href="#2012-10" class="headerlink" title="2012.10"></a>2012.10</h5><p>国庆节<br>我还记得第一次与徐祎璠有交集的时候是她问我电脑耳机的事情，那个时候的我还是一个科技宅，喜欢各种新科技也是第一批用iPhone的人。徐祎璠当时好像是要和国外的同学视频聊天（好像是曾亦扬），结果电脑太古旧，前面的插口坏掉了，费劲很大的劲才翻到主机后面插耳机才成功。<br>那个时候我记得自己还暗笑了好久，这个女生怎么这么萌。</p>
<p>好奇<br>后来渐渐的把目光放在了这个姑娘身上，她一个人五点放学后不去食堂落寞的留在教室，晚自习安安静静的看书，小心翼翼的和周围同学交往，很多时候我能感受到她很努力的想要融进这个新集体，但是好像力都发不到正确的地方，不知道为什么我总是很能深刻的感受到她的孤独。我对这个女生产生了极大的好奇。</p>
<p>物理<br>我一直记得其实徐祎璠物理一开始不好，高二第一次物理摸底测试的结果她和我们大多数一样，五六十分的水平。不经意的回头看了她一眼，看到了一丝黯淡，一丝坚决。我很好奇事情之后的发展。<br>不知道是不是因为那一次物理考试的结果，徐祎璠变的异常的用功起来，好像也不再刻意的去和周围的同学维护好关系了，她开始一门心思的把精力放在学习上面。我到现在还记得她当时学习有多用功，白天在教室，你看见她的时候大部分时间都在写作业。当时的她与周围环境异常的格格不入，不管周围有多吵，好像她一直处在一个很安静的环境中。晚上回寝室的时候，她每天十二点半从床上爬起来，拿被子遮住光，一直看书到4点半。每一次看到她白天上课拿手挡住脸睡一会，然后很快就做起来学习的样子，我不知道为什么感觉很心疼。</p>
<p>我每一次看到徐祎璠认真学习的样子都会很入迷，甚至偷偷的拍了很多照片。</p>
<h5 id="2012-10-22"><a href="#2012-10-22" class="headerlink" title="2012.10.22"></a>2012.10.22</h5><p>运动会<br>第一次见到徐祎璠把前面的头发夹起来的样子。我这个人呆住了好几秒。当时丝毫没有考虑到她的额头大小比例的问题，就是觉得好美好仙气，简直就是女神。我想我应该就是那个时候深深为她着迷的。</p>
<h5 id="2012-11-11"><a href="#2012-11-11" class="headerlink" title="2012.11.11"></a>2012.11.11</h5><p>期中考试<br>一个星期之后高二第一次期中考试的结果就出来了。徐祎璠考了年级第二，我考了两百多名。。我有点蒙逼，因为高二进班的时候，我们都是一百多名。。。她突然成绩就上去了，后来基本上也没下来过。当时觉得徐祎璠好有毅力，好能学，好能吃苦，独立自强新时代先进的女神。</p>
<p>认真的样子<br>后来徐祎璠学习越来越刻苦了，后来听说她父亲有个同事的小孩拿了新加坡国立的全奖出国了，她好像也很想去新加坡读书，所以那段时间学习异常刻苦。加上之前暴学得到的显著结果，她变成了别人眼中的学神，可我知道，她私底下有多痛苦的努力。<br>整整一个多月，徐祎璠的暴学模式持续了整整一个多月，后来很多人模仿但终究无果（不是每一个人都有她这么坚定的意志）。徐祎璠暴学的成果就是，稳定在了年级第二。。</p>
<h5 id="2012-11月-12月"><a href="#2012-11月-12月" class="headerlink" title="2012.11月-12月"></a>2012.11月-12月</h5><p>入迷<br>附一个小插曲，11月底的时候我已经深深的对徐祎璠着迷了。<br>刚开始的想法是对徐祎璠很好奇，后来好奇转变成了着迷。</p>
<p>交友<br>我很想和徐祎璠做朋友。<br>我不是很会交朋友，我只会疯狂的送东西，我甚至不知道这是一种什么样的感情。<br>我开始送东西给徐祎璠，第一次送的东西应该是一个星巴克万圣节的随行杯，可以diy的随行杯。因为徐祎璠是一个大水桶，她太能喝水了，平均每两节课就要打满满一瓶水，每节下课都要去上厕所。。。<br>可是徐祎璠用了一个多星期，就把杯子弄丢了，我有点生气，但是看到她之前的杯子那么不好用。。于是我又买了一个圣诞款的星巴克送给她。</p>
<p>Starbuck的杯子<br>星巴克这个圣诞款的杯子的路途也很坎坷啊。。<br>第一次被我摔了，又买了一个新的，第二次被吴磐摔了，又买了一个新的。<br>我怕她又摔了，我又给自己买了一个。。<br>那一个月我在买星巴克这个上面的开销快到600了。。</p>
<p>叛逆<br>我开始彻彻底底的对徐祎璠着迷了，心疼她孤独的样子，那个时候的她瘦的和纸片一般。我强烈的保护欲莫名汹涌起来。那段时间我逃课，早上跑到办公室偷出门条，就是为了想出门买东西给徐祎璠。我不知道送什么好，受不住她这么瘦，就开始每天买外卖买饭买各种给她吃。其实我也不太明白自己为什么要这么做。我也不太明白为什么她会接受，当时真的什么企图都没有，就想对她好点，让她不要过的这么糟。可是送饭这件事情最后就变得很奇怪，变成了我每天都给她送饭，她并不给我钱😂，而且每次送饭的时候她看都不看我一眼，一句谢谢都没有，有的时候就是一直在打电话也不理我，一点表示都没有，这种关系一直持续了一个半月。直到后来我舍友雍琪和我说‘你们这种关系和畸形’。。我才意识到原来这么奇怪。。<br>我当时很叛逆，什么搓事都做了。那段时间第一次开始发现我这么痴迷的喜欢一个人。在她熬夜学习的同时我彻夜彻夜的失眠，失眠到最后心脏都开始抗议，我记得那阵子我停了好几天的课去看心脏，各种毛病……我还记得看完病我还在同曦给她带小米粥，这是什么鬼。。<br>一直到现在，我都把当时给徐祎璠传的每一个小纸条都保存的好好的，每一次她想要什么想吃什么，虽然每次都只有寥寥几语，但是对于当时的我来说，好像就是大过天的世界。</p>
<p>不知名的第三者<br>我一直觉得徐祎璠身上有很多秘密，她不经意的回眸，不经意的失落，经常呆滞在一个角落发呆。我不知道她身上有什么秘密，我看不穿。<br>有一阵子我和她传情书，说是情书但是我能很深切的感受到那一封封信纸的对象并不是我，只是她对未来的爱情的幻想，我还记得里面有写’和爱的人携手去看冰岛的世界第一大伤口‘。我一直爱猜测这个人是谁？是王晟吗（她上一段感情）？是宋子昀（她第一段无疾而终的感情，她曾经喜欢着他，但是他喜欢的却是她闺蜜）？我一直觉得她的感情之路很不顺，至少在某种程度上来说应该是受过感情上的创伤。就是这样一个女人，你知道的越多，就越想保护她。可惜我的羽翼不够丰满，我不能够给他想要的。很遗憾我不能一直保护她。她应该是很想和一个盖世英雄这样优秀的人在一起吧。可是无论是过去还是现在我都太平凡了，希望以后的我能够足够强大，强大到可以抵抗全世界。</p>
<h5 id="2012-12-21"><a href="#2012-12-21" class="headerlink" title="2012.12.21"></a>2012.12.21</h5><p>那个时候玛雅人的预言传的沸沸扬扬的，虽然是伪科学但是我们看过了这么多灾难片的我们还是很期待的，很期待这个世界到底会变成什么样子。日子越迫近，我越不想继续将这份感情沉寂。我第一次和徐祎璠告白了。。（可能她当玩笑了吧）</p>
<p>插个曲<br>其实我大概知道为什么后来徐祎璠优点不太愿意理我。之前有说到我深深对她着迷了。那个时候的学生能做什么呢。我把她的贴吧，人人，说说所有她出现过痕迹的地方从头到尾看了好几遍，从小学开始她所有的好友，我全都加了一遍。她的小学，她的初中，她的家，我一个人在这些地方转过很久，我想感受她的气息，想经历一遍她的过去，很想知道我遇到她之前她是什么样子的一个人。甚至于我还曾经找过私家侦探去调查她。我知道这样很病态，也是不对的，但是当时的探索欲实在是太强了。。<br>我渴望她的一切</p>
<h5 id="2013"><a href="#2013" class="headerlink" title="2013"></a>2013</h5><p>我发现自己长高了。讲真上高中长高了几厘米</p>
<h5 id="2013-1-4"><a href="#2013-1-4" class="headerlink" title="2013.1.4"></a>2013.1.4</h5><p>我那天对徐祎璠疯狂的告白了<br>她好像有点蒙<br>然后就没有然后了</p>
<p>之前我一直以为自己只是很想交徐祎璠这个朋友，渐渐的好像变味了。那个时候我看了一部泰剧《yes or no》，上下两部，我前前后后看了好几遍，送了剧里面的水母送给徐祎璠。有那么一瞬间，我突然意识到自己是喜欢姑娘的。当我意识到自己是一个同性恋的时候，内心是很抗拒的，抗拒到我拒绝见到徐祎璠，拒绝任何与她相关的事情，但是我无法抗拒自己对她的感情。</p>
<p>接着就是高二寒假的那个寒假，那个寒假我是在金中培训度过的。一整个寒假都在接触各种南京本地高校化学系的教授，和实验班的同学打成一片，过的很充实。但是好像＝ ＝还是很想她。</p>
<h5 id="2013-3"><a href="#2013-3" class="headerlink" title="2013.3"></a>2013.3</h5><p>我还记得那一年春节过来的时候雪下的很大，我们延迟了一天开学。徐祎璠那次到校了才临时收到了教育局延迟开学的通知，她在学校住了一天，我到的时候，她坐在我的床上，拿着一个iPhone3。她当时和宰月悦玩的的挺好，这也是我当时特别抗拒她的原因。从初中开始宰月悦就是一个左右逢缘的人，我挺反感这种喜欢讨好老师然后在同学面前装腔作势的人。另一方面，她特别喜欢阴人，她会在别人面前说你坏话诋毁你，而且喜欢搞一些小动作，一直以来都是这样，我是一个光明磊落的人，实在不屑于这种人为伍。<br>回到之前开学，开学之后我们就要进行小高考。那阵子，徐祎璠和王凯的同学感情格外的好，两个人一下课就在一起研究数学题，一下课就互相打水，一起排话剧，一起搞活动，全班同学都很喜欢拿他们起哄。我当时的感觉真的是……真是……天天吐血的状态。因为全班同学都在起哄他们两个，导致我当时基本上对每一个同学都是相当反感的，我把座位搬到了最后一排，每一天用一种杀人的眼光看着他们两个，说真的，my eyes had fixes on her 不管她去哪里，到哪里去，我总是用我炙热的眼光去凝视着她。快疯了。离小高考还有不到一个月的时候，我的成绩是三门不及格，没错学业水平测试有三门我都是60分不到的水平。我很害怕自己会挂科，还有十几天的小高考的时候，我把自己一个人搬到了隔壁教室，最后的结果是3B1A.</p>
<p>那个时候我真的是，完全不能够理解为什么要和王凯关系这么好 想不明白 why！我家里面条件分分钟甩他几条街 虽然我可能当时成绩没有他那么好 但是我很确定的一点是我IQ高 虽然做题的严谨性因为缺乏训练不达标 可是解题思路我可是很有一套的 (当时真的是盲目的自信 如果现在还有当年那样的自信 我应该也不会沦落至此吧)<br>我不能够理解为什么王凯那个屌丝还能够和他关系那么好 （当时特别嫉妒 有点走火入魔的感觉真是</p>
<h5 id="2013-5"><a href="#2013-5" class="headerlink" title="2013.5"></a>2013.5</h5><p>我整整看了徐祎璠和王凯这种暧昧的关系看了两个月 一直到现在 我都记得自己当时那种冒火的心情 我对自己承诺过 以后绝对不能让自己再一次处于这种情况 实在是太痛苦了 我一定要消灭掉自己所有的对手</p>
<p>学农<br>5月份我们经历的社会实践，为期将近一个星期的学农。学农的前几天 我的太姥姥走了（她曾经照顾我很久，而那之前几个月，我外婆也走了，回忆被唤醒）自己处于一种极度悲伤的环境之中 我很不愿意去参加学农 更不想见到徐祎璠 我不想让她看到我这个样子。后来过了一天，我还是去参加社会实践了。<br>呵 徐祎璠带着一顶蓝色的草帽 有点突兀 我一眼就看到她了 看到她的同时 她和王凯站在一排 心又被猛猛的刺了一刀<br>再一次 我很抗拒徐祎璠 我不愿与她说话 不愿意与她照面 甚至反感任何与她相关的事情。我很感谢当时一直陪着我的吴迪，她给我带来很多温暖<br>社会实践有时候要两排牵手 又被刺了一刀<br>不过我发现徐祎璠好像瞧不上王凯 （我就说她那么一个高傲的人 怎么会瞧上一个不如自己的人呢）她开始表现出不愿意接受他人的撮合 与王凯相伴。（来自lu内心的愉悦<br>回去之后，徐祎璠开始慢慢的排斥王凯了 也会对他人恶意的撮合黑脸</p>
<p>王凯向徐祎璠表白<br>在全班同学（except me 起哄的情况下，王凯向徐祎璠表白了。徐祎璠沉默，没有拒绝也没有同意。我想她是因为不想伤害别人所以才这么做的吧。其实这样也挺好的，一种婉转的拒绝，给对方留个念想也不至于伤害的那么深，有的人 比如我，你如果直接拒绝，我会觉得很没有面子，不仅不可能对你放手，还有可能对你念念不忘穷追不舍。<br>哈哈 徐祎璠把王凯给拒绝了 她当时还给我看了王凯给他的情书和她的回信。（我觉得我和徐祎璠当时关系挺微妙的。<br>然后他们这一段关系也就无疾而终了，深深的输了一口气</p>
<h5 id="2013-6"><a href="#2013-6" class="headerlink" title="2013.6"></a>2013.6</h5><p>很明显 我开始疯狂的追徐祎璠了 具体细节不记得了<br>反正每天我都在示爱，但其实我在感情这方面一开始不是这么主动的。刚开始的阶段我很懦弱，很害怕被拒绝，每天自己心里面纠结了一万遍我才敢表达出四分之一都不到的话。<br>我好像做了一个很好看的硫酸铜晶体给徐祎璠<br>我被徐祎璠拒绝了好多次……拒绝到后期 我都不敢再表白了 天知道我做了多少事情只是想吸引她的注意 有多少次我都很想直接强吻她0.0</p>
<h5 id="2013。7"><a href="#2013。7" class="headerlink" title="2013。7"></a>2013。7</h5><p>我记得暑假的时候自己差不多自己已经完全放弃徐祎璠了<br>我删掉了她的所有联系方式 其实自己也是知道不管说什么她都不会理我的吧<br>偶尔还是会想起她 每次想起她的时候就给她发空短信 换着各种人的手机发 我知道她知道是我 但是我不知道说什么好<br>也许这段感情就不应该开始 我从来没想到后来会发生这么多事情 我也不知道该怎么去形容后面发生的事情 是开心吗？还是折磨？但是我不曾后悔，我很高兴自己能够认识你，好像认识你之后我就花光了自己所有的运气，不管做什么事情都要加倍努力才可以。</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-关于我爱的人" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/04/19/关于我爱的人/" class="article-date">
  	<time datetime="2016-04-19T14:19:05.000Z" itemprop="datePublished">2016-04-19</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/19/关于我爱的人/">关于我爱的人</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="近况"><a href="#近况" class="headerlink" title="近况"></a>近况</h3><p>最近很忙，每天忙来忙去不知道做了什么，好像已经习惯了3点钟睡觉，不管是看斯坦福的公开课，还是恶心到去看太阳的后裔。自己好像和睡神一直在做着一些不知名不知所谓的斗争，也不知道自己到底是怎么想的。罢了，就当我这个疯子又在胡言乱语吧。</p>
<h3 id="杂想"><a href="#杂想" class="headerlink" title="杂想"></a>杂想</h3><p>人真是一个可悲的动物。有的时候很想抓紧一样东西却适得其反。像手中沙，越攥紧却掉的越多越快，倒不如双手捧住，美好反而会留的更久。有的时候太喜欢一个人真的是一件特别痛苦的事情，自己因为得不到回应而变得焦躁变得神经质，对方也因为逃避越发的反感，越发的不愿被打扰。到底是谁的错呢？谁知道呢……</p>
<h3 id="我爱的人"><a href="#我爱的人" class="headerlink" title="我爱的人"></a>我爱的人</h3><p>昨天被一挚友开导，说是开导其实也是安慰一下我罢了。突然的，我感到内心有一股愧疚之情。挚友竟然是站在我这一边的，我该说些什么呢？你势利也好不势利也罢，这个世界不是你说什么就是什么样的，你只看到你自己，所以当然不会承认自己的缺点。真是可悲。我只想说，你是一个什么样的人很多时候不需要我多说（然而我并没有说什么）大家都是能看到的。既然你不愿意相信，那我说再多有什么用呢。除了接受，我没有其他的想法了。<br>我不想再说很多煽情的情话了。我记得你曾经很喜欢听我说一遍又一遍软绵绵的情话，听到耳根子都酥软了还要继续听，我很喜欢那个时候的你，也很喜欢那个时候的我。那时候我是多不懂事的孩子啊，唉，突然有一点沧桑的心酸。真羡慕那个时候的自己，什么挫折都没受过，就知道一股劲的向前冲，什么人情冷暖什么世态炎凉都没见过，这个社会的肮脏我都不曾接触过。后来呢，后来就不说了。</p>
<h3 id="挚友的话"><a href="#挚友的话" class="headerlink" title="挚友的话"></a>挚友的话</h3><p>挚友跟我说：“你要知道你喜欢的这个人不是一个普通人。她是一个很聪明很天才的一个人，她已经把努力当成了一种习惯，并且习惯了优秀。你要是想和她在一起，就只能不断的学习不断的进步，你要追上她前进的脚步才可以”<br>从来没想过，我们直接的差距竟然变得这么大。到底是学校的差距还是心灵上的差距呢？其实我也不清楚。我想回挚友这样一句“我其实一直在努力，只是背负的东西有点多，真的好累”。<br>但是换一个方面想想呢。累又怎么样呢？累难道就要停下来歇一歇了吗？累就是你努力了很久却见不到成果就放弃的理由吗？并不是。就算再累再辛苦还是要继续走下去不是吗？你喜欢的人这么优秀，难道你想做她的拖油瓶吗？我不想再被别人说闲话了。我不想每次别人提到我们都是说徐祎璠有多优秀多优秀，但是为什么看上我的了。我想做一个强者，强者才是我的宿命。我是生来改变世界的，我到现在都相信这一点。我并不差，暂时的没有成果不要着急，这并不是后退，这只是在扎根，是为了后面能够跑的更快，更远的涅槃。<br>不过说到底，我还是爱你的。希望可以与你相伴终身😊</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-结构化数据访问之plist文件-附带懒加载介绍" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/04/08/结构化数据访问之plist文件-附带懒加载介绍/" class="article-date">
  	<time datetime="2016-04-07T17:31:58.000Z" itemprop="datePublished">2016-04-08</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/08/结构化数据访问之plist文件-附带懒加载介绍/">结构化数据访问之plist文件(附带懒加载介绍)</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h2 id="plist文件"><a href="#plist文件" class="headerlink" title="plist文件"></a>plist文件</h2><h2 id="CherryWang原创，转载请附上作者"><a href="#CherryWang原创，转载请附上作者" class="headerlink" title="CherryWang原创，转载请附上作者"></a>CherryWang原创，转载请附上作者</h2><p>plist文件是property list的缩写，内容是xml格式，以<string><key>这两个标签构成主要内容。<br>key表示标签名称，string表示标签存储属性值。<br>如果我们想要存储数据，需要数据具有属性与属性值这样的配对关系，那么我们就可以实用plist文件来存储。<br>iOS SDK已经提供了适当的API来访问这个文件，所以我们不需要辛苦的去解析xml的内容。</key></string></p>
<h3 id="下面介绍一下使用plist文件-以及使用NSArray和NSDictionary进行字典转模型的好处"><a href="#下面介绍一下使用plist文件-以及使用NSArray和NSDictionary进行字典转模型的好处" class="headerlink" title="下面介绍一下使用plist文件 以及使用NSArray和NSDictionary进行字典转模型的好处"></a>下面介绍一下使用plist文件 以及使用NSArray和NSDictionary进行字典转模型的好处</h3><p>当图片内容非常多时，“根据index来设置内容”的代码就不具备扩展性，要经常改动。<br>所以，为了改变现状，可以考虑将图片数据线保存到一个数组中，数组中有序地放着很多字典，一个字典代表一张图片数据，包含了图片名、图片描述。</p>
<h3 id="下面介绍一下plist文件"><a href="#下面介绍一下plist文件" class="headerlink" title="下面介绍一下plist文件"></a>下面介绍一下plist文件</h3><p> 通过代码来解析Plist文件中的数据 获得Plist文件的全路径<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">NSBundle *bundle = [NSBundle mainBundle];</span><br><span class="line">NSString *path = [bundle pathForResource:@&quot;images&quot; ofType:@&quot;plist&quot;];</span><br></pre></td></tr></table></figure></p>
<p>下面贴一段完整代码<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">- (NSArray *)appList</span><br><span class="line">  &#123;</span><br><span class="line">      if (!_appList) &#123;</span><br><span class="line">                 // 1. 从mainBundle加载</span><br><span class="line">          NSBundle *bundle = [NSBundle mainBundle];</span><br><span class="line">          NSString *path = [bundle pathForResource:@&quot;app.plist&quot; ofType:nil];</span><br><span class="line">          _appList = [NSArray arrayWithContentsOfFile:path];</span><br><span class="line">        &#125;</span><br><span class="line">  return _appList;</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></p>
<p>  如果想查看plist文件的路径可以这样打印一下<br>  <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">NSLog(@&quot;%@&quot;,NSHomeDirectory());</span><br></pre></td></tr></table></figure></p>
<h3 id="下面介绍一下字典转模型"><a href="#下面介绍一下字典转模型" class="headerlink" title="下面介绍一下字典转模型"></a>下面介绍一下字典转模型</h3><p>plist文件就像一个字典，里面每一个数据就是一个字，因为每一个数据都有几条属性，每一个数据的类型就是NSDictionary</p>
<p>将plist文件加载出来，一般用懒加载，每一个数据就变成了一个数组的成员，数组就成了数组模型，简单来说就是模型。</p>
<h3 id="下面介绍一下懒加载"><a href="#下面介绍一下懒加载" class="headerlink" title="下面介绍一下懒加载"></a>下面介绍一下懒加载</h3><p>懒加载——也称为延迟加载，即在需要的时候才加载（效率低，占用内存小）。所谓懒加载，写的是其get方法。<br>tips：懒加载一定要注意先判断是否已经存在，如果没有那么再去进行实例化</p>
<p>使用懒加载的好处</p>
<ol>
<li><p>不必将创建对象的代码全部写在viewDidLoad方法中，代码的可读性更强</p>
</li>
<li><p>每个控件的getter方法中分别负责各自的实例化处理，代码彼此之间的独立性强，松耦合</p>
</li>
</ol>
<p>代码就不贴了。上面的if语句就是懒加载</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
	<div class="article-tag tagcloud">
		<ul class="article-tag-list"><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/iOS内存管理/">iOS内存管理</a></li><li class="article-tag-list-item"><a class="article-tag-list-link" href="/tags/数据库/">数据库</a></li></ul>
	</div>

      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
    <article id="post-Daily-report集总" class="article article-type-post" itemscope itemprop="blogPost">
  
    <div class="article-meta">
      <a href="/2016/04/06/Daily-report集总/" class="article-date">
  	<time datetime="2016-04-06T07:03:19.000Z" itemprop="datePublished">2016-04-06</time>
</a>
    </div>
  
  <div class="article-inner">
    
      <input type="hidden" class="isFancy" />
    
    
      <header class="article-header">
        
  
    <h1 itemprop="name">
      <a class="article-title" href="/2016/04/06/Daily-report集总/">Daily report2016年4月</a>
    </h1>
  

      </header>
      
    
    <div class="article-entry" itemprop="articleBody">
      
        <h3 id="2016年4月"><a href="#2016年4月" class="headerlink" title="2016年4月"></a>2016年4月</h3><h4 id="4月5日"><a href="#4月5日" class="headerlink" title="4月5日"></a>4月5日</h4><p>完成了java数据结构中的中缀表达式。对java中栈和队列方面有了一些理解<br>对想要进行的help进行了一次头脑风暴，并对靠我，百度知道，百度经验（网页版）进行了研究。总结成了一份粗略的文档，形成了一份初步的规划。</p>
<h4 id="4月6日"><a href="#4月6日" class="headerlink" title="4月6日"></a>4月6日</h4><p>学习了用prepareforsegue：sender将一个viewcontroller类的参数传递到另一个viewcontroller类中。<br>在官方文档中查询了uiviewcontroller中关于segue的内容，但是略显生涩，之后会完善。<br>学习了不是用segue进行画面切换，用代码在viewdidapper中加载viewcontroller进行画面切换。<br>学习使用autolayout在storyboard中布局。<br>tableview的重新学习<br>  利用纯代码创建tableview ，<br>  tableview分块<br>  显示单元格指示器<br>  新增或删除一条tableviewcell及数据<br>  获取用户点击哪一块单元格<br>  改变单元格顺序<br>  用xib或者storyboard自定义cell</p>
<h4 id="4月7日"><a href="#4月7日" class="headerlink" title="4月7日"></a>4月7日</h4><p>对结构化数据访问进行了学习<br>了解了几种处理大量数据的方式1.plist文件 2.SQLite数据库 3.CoreData</p>
<h4 id="4月8日"><a href="#4月8日" class="headerlink" title="4月8日"></a>4月8日</h4><p>参照官方文档对UITableViewCell进行了学习。<br>学习了在编辑状态中插入和删除单元格，并在插入和删除单元格数据</p>
<h4 id="4月9日"><a href="#4月9日" class="headerlink" title="4月9日"></a>4月9日</h4><p>完善了help<br>阅读了programming in objective－c</p>
<h4 id="4月10日"><a href="#4月10日" class="headerlink" title="4月10日"></a>4月10日</h4><p>根据巧神的推荐 观看了斯坦福的iOS相关的课程<br>对mvc的模式进行了深入的了解。并且做了一些笔记<br>对property和nonatomic以及strong和weak理解 弥补了之前对这些概念理解的不清晰的漏洞</p>
<h4 id="4月11日"><a href="#4月11日" class="headerlink" title="4月11日"></a>4月11日</h4><p>完成了一个小app 纠结选择器</p>
<h4 id="4月12日"><a href="#4月12日" class="headerlink" title="4月12日"></a>4月12日</h4><p>完成了java关于linkedlist的作业<br>自己写了一个arraylist类（不使用任何java中的包）<br>对java中的栈和队列以及linkednode有了粗浅的理解</p>
<h4 id="4月13日"><a href="#4月13日" class="headerlink" title="4月13日"></a>4月13日</h4><p>跟着斯坦福的讲座继续对objective-c了解。<br>理解了＋类方法和－对象方法。<br>并且对＋方法使用的两种情况进行了理解。<br>了解了iOS7中的特性instancetype方法 实例方法，返回相同类类型。<br>对self = [super init]调用父类初始化器对self赋值进行了理解<br>😂把上次对创建button并且自动计数做完了<br>stringbyappendingstring是相加字符串的实例方法<br>在一个方法中除非有copy，否则这个方法返回一个已经存在的对象时，它会返回指向那个对象的指针。</p>
<h4 id="4月14日"><a href="#4月14日" class="headerlink" title="4月14日"></a>4月14日</h4><p>学习了UICollectionView，感觉和UITableView有点相似，给app中添加了collectView<br>学习了在storyboard中使用segue对cell进行切换下一下一视图。collectview视图切换没有问题，但是tableview切换的时候遇到了问题，查阅了官方文档但是对这方面写的真的是相当不全。。看了samplecode，目前还没有解决。打算再把斯坦福老爷爷的看一下</p>
<h4 id="4月15日"><a href="#4月15日" class="headerlink" title="4月15日"></a>4月15日</h4><p>学习了在storyboard中自定义tabbar，个人觉得以后可以多多使用sb，虽然说用代码创建视图是很基础很必须的事情 但是时代在变化 现在苹果有点开始主推storyboard。<br>试图解决昨天晚上的问题。目前还没有解决<br>学习了视图控制器的生命周期viewdidload之类<br>学习了观察者模式之中的NSNotification类 监听系统的变化<br>之前有在官方文档中看过导航控制器相关的内容，可以第一遍看的时候对segue的几种种类还是有点概念上的不清晰。在斯坦福视频中看到了老爷爷对iOS7中的push和module的讲解，讲的不错可以iOS9之后的show还有很多不一样，有时间整理一下。</p>
<h4 id="4月16日"><a href="#4月16日" class="headerlink" title="4月16日"></a>4月16日</h4><p>学习了视图列表中的绘制，在笛卡尔系中利用CGPoint CGSize CDRect绘制。<br>用Quartz 2D做了一些小demo<br>接触了手势识别，UIGestureRecognizer这个抽象类。<br>学习了UIPinchGestureRecognizer，UIRotationGestureRecognizer，UISwipeGestureRecognizer还有iOS9中新增的forcetouch相关手势识别</p>
<h4 id="4月17-21日"><a href="#4月17-21日" class="headerlink" title="4月17-21日"></a>4月17-21日</h4><p>有点疲惫<br>这几天又夯了一遍基础 把block,协议，animation撸了一遍<br>animation主要撸了UIViewAnimation和DynamicAnimation就是视图的动画和动作的变化<br>UIViewAnimation有三个属性 frame transform alpha有一个类方法实现<br>UIViewAnimationOptions的各种属性可以修改这个视图的状态<br>DynamicAnimation创建的三部曲，吸附重力等都是很炫酷的物理动画</p>

      
    </div>
    
    <div class="article-info article-info-index">
      
      
      

      
      <div class="clearfix"></div>
    </div>
    
  </div>
  
</article>









  
  
    <nav id="page-nav">
      <span class="page-number current">1</span><a class="page-number" href="/page/2/">2</a><a class="extend next" rel="next" href="/page/2/">Next &raquo;</a>
    </nav>
  
</div>
      <footer id="footer">
  <div class="outer">
    <div id="footer-info">
    	<div class="footer-left">
    		&copy; 2016 Doctor nu
    	</div>
      	<div class="footer-right">
      		<a href="http://hexo.io/" target="_blank">Hexo</a>  Theme <a href="https://github.com/litten/hexo-theme-yilia" target="_blank">Yilia</a> by Litten
      	</div>
    </div>
  </div>
</footer>
    </div>
    
  <link rel="stylesheet" href="/fancybox/jquery.fancybox.css">


<script>
	var yiliaConfig = {
		fancybox: true,
		mathjax: true,
		animate: true,
		isHome: true,
		isPost: false,
		isArchive: false,
		isTag: false,
		isCategory: false,
		open_in_new: false
	}
</script>
<script src="http://7.url.cn/edu/jslib/comb/require-2.1.6,jquery-1.9.1.min.js"></script>
<script src="/js/main.js"></script>






<script type="text/x-mathjax-config">
MathJax.Hub.Config({
    tex2jax: {
        inlineMath: [ ['$','$'], ["\\(","\\)"]  ],
        processEscapes: true,
        skipTags: ['script', 'noscript', 'style', 'textarea', 'pre', 'code']
    }
});

MathJax.Hub.Queue(function() {
    var all = MathJax.Hub.getAllJax(), i;
    for(i=0; i < all.length; i += 1) {
        all[i].SourceElement().parentNode.className += ' has-jax';                 
    }       
});
</script>

<script type="text/javascript" src="http://cdn.mathjax.org/mathjax/latest/MathJax.js?config=TeX-AMS-MML_HTMLorMML">
</script>


  </div>
</body>
</html>